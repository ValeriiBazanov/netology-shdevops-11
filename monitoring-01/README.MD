# Задание 1

```
Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?
```

1. Загруженность ЦПУ, для анализа производительности. Недостаточность ресурсов ЦПУ будет влиять на производительность системы.
2. Загруженность RAM, для анализа производительности. Недостаточность ресурсов RAM может влиять на производительность системы.
3. Утилизацию дискового пространста. Так как отчеты сохраняются на диск, дискового пространства может не хватать при увеличении нагрузки. 
4. Утилизацию IO диска, для анализа производительности. Медленная запись на диск будет влиять на производительность системы.
5. Доступность сервиса на 80 порту. Сигнализирует о проблемах с сервисом.
6. Количество входящих запросов. Для анализа проблем производительности.
7. Среднее время ответа на входящий запрос. Индикатор о деградации производительности системы.
8. Количество неуспешных 4хх и 5хх ответов. Индикатор о возможных проблемах.
9. Загрузка сети. Для анализа производительности. Так как взаимодействие с системой производится по протоколу http сеть может являться узким местом.
10. inodes. Для анализа ошибок. Переполнение inodes может привести к невозможности создания новых файлов.

# Задание 2

```
Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?
```

RAM - Оперативная память. Недостаточное количество оперативной памяти может влиять на скорость работы приложения, так и на полную недоступность.

inodes - количество индексных дискрипторов, переполнения которых приведет к невозможности создания новых файлов.

CPUla (CPU load average) - средняя нагрузка на ЦПУ.

Для мониторинга качества обслуживания можно предложенить заключить SLA (Service Level Agreement) - общее соглашение о доступности сервиса:
- SLI (Service Level Indicator) - метрика доступности сервиса
- SLO (Serivce Level Objective) - сочетание метрики, её значения и периода
- MTBF (Mean Time Between Failures) - среднее время между сбоями
- MTTR (Mean Time To Recovery) - среднее время на восстановление
- Error budget - статья в бюджете, запланированная на расходы по восстановлению сервиса

# Задание 3

```
Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики в свою очередь хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?
```

Можно использовать бесплатные решения для сбора и анализа логов, такие как Elastic stack (Elasticsearch, Logstash, Kibana), Prometeus, Grafana.

# Задание 4

```
Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов. Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. Данный параметр не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?
```

Формула учитывает только 2xx ответы и игнорирует 1xx (информационные ответы) и 3xx (перенаправления).
Правильная формула: (summ_2xx_requests + summ_3xx_requests + summ_1xx_requests) / summ_all_requests

# Задание 5

```
Опишите основные плюсы и минусы pull и push систем мониторинга.
```

## Pull

### Плюсы

- Сниженная нагрузка на целевые системы:  мониторинговые агенты (клиенты) опрашивают целевые системы (серверы) по запросу, что позволяет точнее контролировать частоту опроса и снижает нагрузку на целевые системы.
- Простая настройка и установка: агенты мониторинга могут быть легко развернуты на целевых серверах без дополнительных настроек на стороне сервера.
- Прозрачность для целевых систем: Целевые системы могут быть неосведомленными о наличии мониторинга и агентов, что может быть полезно в некоторых ситуациях для соблюдения конфиденциальности.

### Минусы

- Задержка в обновлении данных: мониторинговые агенты опрашивают целевые системы по расписанию, существует задержка в обновлении данных. Это может снизить способность обнаружения проблем в режиме реального времени.
- Потеря данных: если агент неспособен опросить целевую систему (например, из-за сетевой проблемы или сбоя агента), это может привести к потере данных мониторинга.

## Push

### Плюсы

- Реальное время: позволяют отправлять данные в реальном времени, что делает их более подходящими для мониторинга важных событий и реагирования на них мгновенно.
- Легкость настройки центрального сервера: центральный сервер (коллектор данных) более централизован и может быть легче настроен для обработки данных от множества клиентских систем.
- Уведомления в режиме реального времени: могут легко отправлять уведомления и события в реальном времени на основе данных мониторинга.

### Минусы
- Высокая нагрузка на целевые системы: могут возникнуть проблемы с нагрузкой на целевые системы, особенно если большое количество данных отправляется в реальном времени.
- Сложность настройки агентов: настройка и установка агентов на целевых серверах может быть более сложной и требовательной к ресурсам процедурой.
- Безопасность и приватность: требуется от целевых систем предоставлять доступ для приема данных мониторинга, что может повысить риски вопросов безопасности и приватности.

# Задание 6

```
Какие из ниже перечисленных систем относятся к push модели, а какие к pull? А может есть гибридные?
```
- Prometheus - pull
- TICK - push
- Zabbix - гибрид
- VictoriaMetrics - гибрид
- Nagios - pull

# Задание 7

<image src="task-7.png">

# Задание 8

<image src="task-8.png">

# Задание 9

<image src="task-9.png">


